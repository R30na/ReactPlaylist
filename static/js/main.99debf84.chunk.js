(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,a){e.exports=a.p+"static/media/play.bee6ec5d.svg"},22:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},24:function(e,t,a){e.exports=a(49)},34:function(e,t,a){},38:function(e,t,a){},40:function(e,t,a){},42:function(e,t,a){e.exports=a.p+"static/media/play-button.122f38c5.svg"},43:function(e,t,a){e.exports=a.p+"static/media/pause-button.e48e19ba.svg"},44:function(e,t,a){e.exports=a.p+"static/media/mute.4263659a.svg"},45:function(e,t,a){e.exports=a.p+"static/media/speaker.3a7c5aa9.svg"},46:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(18),l=a.n(s),o=a(5),r=a(3),c=a(21),u="ADD_PLAYLIST",d="ENABLE_LOADING",m="DISABLE_LOADING",p="PLAYLISTS_AVAILABLE",y="PLAYLIST_AVAILABLE",v="ADD_VIDEO",h="UPDATE_CURRENT_PLAYING_VIDEO",g="STOP_AUTOPLAY",f={loading:!0,playingNextVideo:!1,myplaylists:[],activePlayList:{currentPlayingVideoIndex:0,title:"",videos:[{title:"",artist:"",url:""}]}},P=Object(r.c)({appReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:case d:case m:return e=Object.assign({},e,{loading:t.loading});case p:return e=Object.assign({},e,{loading:t.loading,myplaylists:t.myplaylists});case y:case v:return e=Object.assign({},e,{loading:t.loading,activePlayList:t.activePlayList});case h:return e=Object.assign({},e,{loading:t.loading,activePlayList:t.activePlayList,playingNextVideo:t.playingNextVideo});case g:return e=Object.assign({},e,{playingNextVideo:t.playingNextVideo});default:return e}}}),E=Object(r.d)(P,Object(r.a)(c.a)),b=(a(34),a(7)),L=a(8),N=a(10),I=a(9),x=a(11),S=a(51),k=a(52),M=a(12),O=a.n(M),V=a(15),T={saveItem:function(){var e=Object(V.a)(O.a.mark(function e(t,a){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,localStorage.setItem(t,JSON.stringify(a)),e.abrupt("return",!0);case 5:e.prev=5,e.t0=e.catch(0),console.log("Error: "+e.t0),alert(JSON.stringify(e.t0,null,4));case 9:case"end":return e.stop()}},e,this,[[0,5]])}));return function(t,a){return e.apply(this,arguments)}}(),getItem:function(){var e=Object(V.a)(O.a.mark(function e(t){var a;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=localStorage.getItem(t),e.next=4,JSON.parse(a);case 4:return e.abrupt("return",e.sent);case 7:e.prev=7,e.t0=e.catch(0),console.log("Error: "+e.t0),alert(JSON.stringify(e.t0,null,4));case 11:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()};function j(e){return function(t){T.getItem("myplaylists").then(function(a){a||(a=[]),a.push(e),T.saveItem("myplaylists",a),t({type:u,loading:!1})})}}function w(){return function(e){e({type:d,loading:!0})}}function A(){return function(e){e({type:m,loading:!1})}}function C(){return function(e){T.getItem("myplaylists").then(function(t){t&&e({type:p,loading:!1,myplaylists:t})})}}function B(e){return function(t){T.getItem("myplaylists").then(function(a){a&&t({type:y,loading:!1,activePlayList:a[e]})})}}function _(e,t){return function(a){T.getItem("myplaylists").then(function(n){if(n){var i=n;i[t].videos.push(e),i[t].currentPlayingVideoIndex=i[t].videos.length-1,T.saveItem("myplaylists",i),a({type:v,loading:!1,activePlayList:i[t]})}})}}function D(e,t){return function(a){T.getItem("myplaylists").then(function(n){if(n){var i=n;i[e].currentPlayingVideoIndex=t,T.saveItem("myplaylists",i),a({type:h,loading:!1,activePlayList:i[e],playingNextVideo:!0})}})}}function R(){return function(e){e({type:g,playingNextVideo:!1})}}a(38);var U=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(N.a)(this,Object(I.a)(t).call(this,e))).state={chooseMode:!0,addPlaylistMode:!1,listPlaylistMode:!1,playListTitle:""},a}return Object(x.a)(t,e),Object(L.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.props.disableLoading()},1e3),"listPlaylistMode"==this.props.location.state.mode&&(this.getPlaylists(),this.setState({chooseMode:!1,addPlaylistMode:!1,listPlaylistMode:!0}))}},{key:"Navigate",value:function(e,t){this.props.history.push(e,{index:t})}},{key:"addPlayList",value:function(){var e={title:this.state.playListTitle,videos:[]};this.props.addPlayList(e),this.setState({chooseMode:!0,addPlaylistMode:!1,listPlaylistMode:!1})}},{key:"createPlaylist",value:function(){this.setState({chooseMode:!1,addPlaylistMode:!0,listPlaylistMode:!1})}},{key:"getPlaylists",value:function(){var e=this;this.props.enableLoading(),this.setState({chooseMode:!1,addPlaylistMode:!1,listPlaylistMode:!0}),setTimeout(function(){e.props.getPlaylists(),e.props.disableLoading()},1e3)}},{key:"render",value:function(){return i.a.createElement("div",{className:"PlayListPage"},this.state.chooseMode&&this.renderChooseMode(),this.state.addPlaylistMode&&this.renderAddMode(),this.state.listPlaylistMode&&this.renderListMode())}},{key:"renderChooseMode",value:function(){var e=this;return i.a.createElement("div",{className:"Panel"},i.a.createElement("button",{className:"Button",onClick:function(){return e.createPlaylist()}},"Create a Playlist"),i.a.createElement("button",{className:"Button",onClick:function(){return e.getPlaylists()}},"Show My Playlists"))}},{key:"renderAddMode",value:function(){var e=this;return i.a.createElement("div",{className:"Panel"},i.a.createElement("input",{type:"text",className:"TextInput",placeholder:"Title",onChange:function(t){return e.setState({playListTitle:t.target.value})}}),i.a.createElement("button",{className:"Button",onClick:function(){return e.addPlayList()}},"Add Playlist"))}},{key:"renderListMode",value:function(){var e=this,t=this.props.myplaylists;return i.a.createElement("div",{className:"PanelList"},i.a.createElement("div",{style:{textAlign:"center",fontSize:"3vw",padding:"1vw",fontWeight:"bolder"}},"My PlayLists"),t.length>0&&t.map(function(t,n){return i.a.createElement("button",{className:"ButtonStart",onClick:function(){return e.Navigate("/player",n)},key:n},i.a.createElement("div",{className:"StartPlay"},i.a.createElement("div",{style:{width:"30%"}},i.a.createElement("img",{className:"PlayButton",src:a(17),alt:"Play"})),i.a.createElement("div",{style:{width:"30%"}},t.title),i.a.createElement("div",{style:{width:"30%"}},n+1)))}),i.a.createElement("div",{className:"backButton",onClick:function(){return e.setState({chooseMode:!0,addPlaylistMode:!1,listPlaylistMode:!1})}},i.a.createElement("span",{className:"arrowBack"},"\u2039")))}}]),t}(n.PureComponent);var J=Object(o.b)(function(e){return{loading:e.appReducer.loading,myplaylists:e.appReducer.myplaylists}},function(e){return Object(r.b)({addPlayList:j,enableLoading:w,disableLoading:A,getPlaylists:C},e)})(U),Y=(a(40),function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(N.a)(this,Object(I.a)(t).call(this,e))).state={paused:!0,muted:!1,length:null,formattedLength:null,currentTime:0,formattedTime:null,volume:.25},a.interval="",a}return Object(x.a)(t,e),Object(L.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.customVolume(),this.interval=setInterval(function(){e.setState({currentTime:e.currentTime()}),e.setState({length:e.duration()}),e.currentTime()===e.duration()&&e.props.videoIndex+1===e.props.payListLength?e.props.updateCurrentPlayingVideo(e.props.playListIndex,0):e.currentTime()===e.duration()&&e.props.updateCurrentPlayingVideo(e.props.playListIndex,e.props.videoIndex+1)},500),this.props.playingNextVideo&&this.play()}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval),this.props.stopAutoPlay()}},{key:"play",value:function(){this.duration();var e=document.getElementById("video");!0===this.state.paused?(e.play(),this.setState({paused:!1})):(e.pause(),this.setState({paused:!0}))}},{key:"duration",value:function(){if(document.getElementById("video")){var e=document.getElementById("video").duration,t=(e=e.toFixed()).toMMSS();return this.setState({length:e,formattedLength:t}),e}}},{key:"currentTime",value:function(){if(String.prototype.toMMSS=function(){var e=parseInt(this,10),t=Math.floor(e/3600),a=Math.floor((e-3600*t)/60),n=e-3600*t-60*a;return t<10&&(t="0"+t),a<10&&(a="0"+a),n<10&&(n="0"+n),t+":"+a+":"+n},document.getElementById("video")){var e=document.getElementById("video").currentTime,t=(e=e.toFixed()).toMMSS();return this.setState({currentTime:e,formattedTime:t}),parseInt(this.state.currentTime)===parseInt(this.state.length)&&this.setState({paused:!0}),e}}},{key:"customTime",value:function(){var e=document.querySelector(".time_range");document.getElementById("video").currentTime=e.value,this.setState({currentTime:e.value})}},{key:"customVolume",value:function(){var e=document.querySelector(".volume_range");document.getElementById("video").volume=e.value,this.setState({volume:e.value}),0===e.value?this.setState({muted:!0}):this.setState({muted:!1})}},{key:"mute",value:function(){document.getElementById("video").muted=!0,this.setState({muted:!0}),!0===this.state.muted?(document.getElementById("video").muted=!1,this.setState({muted:!1})):(document.getElementById("video").muted=!0,this.setState({muted:!0}))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"VideoPlayer"},i.a.createElement("video",{id:"video",width:"100%",height:"100%"},i.a.createElement("source",{src:this.props.src,type:"video/mp4"})),i.a.createElement("div",{className:"controls"},i.a.createElement("button",{onClick:function(){return e.play()},className:"play_pause_btn"},this.state.paused?i.a.createElement("img",{src:a(42),width:"17vw",alt:"Play"}):i.a.createElement("img",{src:a(43),width:"17vw",alt:"Pause"})),i.a.createElement("span",{className:"time"},i.a.createElement("span",{className:"video_time"},this.state.formattedTime),i.a.createElement("span",null," / "),i.a.createElement("span",{className:"video_length"},this.state.formattedLength)),i.a.createElement("input",{type:"range",className:"time_range",onChange:function(){return e.customTime()},value:this.state.currentTime,step:.1,min:0,max:this.state.length}),i.a.createElement("button",{onClick:function(){return e.mute()},className:"play_pause_btn"},this.state.muted?i.a.createElement("img",{src:a(44),width:"17vw",alt:"Mute"}):i.a.createElement("img",{src:a(45),width:"17vw",alt:"Unmute"})),i.a.createElement("input",{type:"range",className:"volume_range",onChange:function(){return e.customVolume()},value:this.state.volume,step:.1,min:0,max:1})))}}]),t}(n.PureComponent));var W=Object(o.b)(function(e){return{loading:e.appReducer.loading,activePlayList:e.appReducer.activePlayList,playingNextVideo:e.appReducer.playingNextVideo}},function(e){return Object(r.b)({updateCurrentPlayingVideo:D,stopAutoPlay:R},e)})(Y),G=(a(46),function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(N.a)(this,Object(I.a)(t).call(this,e))).state={addVideoMode:!1,videoTitle:"",videoArtist:"",videoUrl:""},a.playListIndex=e.location.state.index,a}return Object(x.a)(t,e),Object(L.a)(t,[{key:"componentWillMount",value:function(){this.props.enableLoading()}},{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.props.getActivePlaylist(e.playListIndex),e.props.disableLoading()},1e3)}},{key:"addVideo",value:function(){var e={title:this.state.videoTitle,artist:this.state.videoArtist,url:this.state.videoUrl};this.props.addVideo(e,this.playListIndex),this.setState({addVideoMode:!1})}},{key:"updateCurrentPlayingVideo",value:function(e){this.props.updateCurrentPlayingVideo(this.playListIndex,e)}},{key:"render",value:function(){var e=this,t=this.props.activePlayList.videos,n=this.props.activePlayList.currentPlayingVideoIndex;return i.a.createElement("div",{className:"PlayerPage"},this.state.addVideoMode&&i.a.createElement("div",{className:"modal"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("input",{type:"text",className:"TextInput",placeholder:"Title",onChange:function(t){return e.setState({videoTitle:t.target.value})}}),i.a.createElement("input",{type:"text",className:"TextInput",placeholder:"Artist",onChange:function(t){return e.setState({videoArtist:t.target.value})}}),i.a.createElement("input",{type:"text",className:"TextInput",placeholder:"Video URL",onChange:function(t){return e.setState({videoUrl:t.target.value})}}),i.a.createElement("button",{className:"Button",onClick:function(){return e.addVideo()}},"Add Video"),i.a.createElement("button",{className:"Button",onClick:function(){return e.setState({addVideoMode:!1})}},"Cancel"))),i.a.createElement("div",null,i.a.createElement("div",{className:"PlayList"},i.a.createElement("div",{className:"buttonContainer"},i.a.createElement("button",{className:"Button",onClick:function(){return e.setState({addVideoMode:!0})}},"Add Video")),0===t.length&&i.a.createElement("div",{className:"TextInput"},"No Videos Yet..! Please Add some..."),t.map(function(t,n){return i.a.createElement("button",{className:e.props.activePlayList.currentPlayingVideoIndex===n?"ButtonStart active":"ButtonStart",key:n,onClick:function(){return e.updateCurrentPlayingVideo(n)}},i.a.createElement("div",{className:"StartPlay"},i.a.createElement("div",{style:{width:"20%"}},i.a.createElement("img",{className:"PlayButton",src:a(17),key:n,alt:"Play"})),i.a.createElement("div",{style:{width:"40%"}},t.title),i.a.createElement("div",{style:{width:"40%"}},t.artist)))})),i.a.createElement("div",{className:"PlaylistTitle"},this.props.activePlayList.title),i.a.createElement("div",{className:"Player"},t.length>0&&i.a.createElement(W,{key:Date(),src:t[n].url,playListIndex:this.playListIndex,payListLength:t.length,videoIndex:n})),i.a.createElement("div",{className:"backButton",onClick:function(){return e.props.history.push("/",{mode:"listPlaylistMode"})}},i.a.createElement("span",{className:"arrowBack"},"\u2039"))))}}]),t}(n.PureComponent));var q=Object(o.b)(function(e){return{loading:e.appReducer.loading,activePlayList:e.appReducer.activePlayList}},function(e){return Object(r.b)({getActivePlaylist:B,enableLoading:w,disableLoading:A,addVideo:_,updateCurrentPlayingVideo:D},e)})(G),F=a(22),z=a.n(F),$=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(N.a)(this,Object(I.a)(t).call(this,e))).state={loading:!1},a}return Object(x.a)(t,e),Object(L.a)(t,[{key:"render",value:function(){return i.a.createElement(S.a,null,i.a.createElement("div",null,this.props.loading?i.a.createElement("div",{className:"Loading"},i.a.createElement("img",{src:z.a,className:"App-logo",alt:"Logo"}),"Loading..."):null,i.a.createElement(k.a,{exact:!0,path:"/",component:J}),i.a.createElement(k.a,{exact:!0,path:"/player",component:q})))}}]),t}(n.PureComponent);var H=Object(o.b)(function(e){return{loading:e.appReducer.loading}})($);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(i.a.createElement(o.a,{store:E},i.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[24,2,1]]]);
//# sourceMappingURL=main.99debf84.chunk.js.map